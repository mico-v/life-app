# 阶段 4: 完善与优化 (Polish & Advanced Features)

## 目标
在功能完备的基础上，增加提升效率的高级功能（模板），增强用户粘性的功能（统计），并打磨 UI 细节。

## 1. 模板系统 (Templates)

### 1.1 需求
用户经常创建重复类型的任务（如 "背单词 30分钟", "健身 1小时"）。模板可以一键预填信息。

### 1.2 实现
- **Entity**: 新增 `TaskTemplate` 表。
- **UI**: 在 "Push" 页面顶部显示模板横向滚动列表。点击模板 -> 自动填充 Title, Duration, Icon, Priority。

## 2. 统计与个人中心 (Stats)

### 2.1 数据可视化
- **图表**: 使用 Canvas 或第三方库 (如 Vico) 绘制。
- **指标**:
    - **Focus Hours**: 每日/每周专注总时长。
    - **Completion Rate**: 按时完成率。
    - **Heatmap**: 类似 GitHub 的贡献热力图 (Activity Graph)。

### 2.2 个人主页
- 展示用户头像、昵称、签名。
- 设置默认的 "工作时间" (用于自动判断 Busy 状态)。

## 3. 细节打磨

### 3.1 触感反馈 (Haptics)
- 在 "Pop" 成功、滑动操作、时间选择时加入微小的震动反馈。

### 3.2 桌面小组件 (App Widgets)
- **Glance API**: 创建一个桌面 Widget，显示当前任务和今日剩余任务。

## 4. 开发步骤 Prompt 指引

1.  **模板功能**: "请设计 `TaskTemplate` 数据表，并在创建任务页面添加一个横向列表来选择模板。"
2.  **统计图表**: "请使用 Compose Canvas 绘制一个简单的柱状图，显示过去 7 天每天完成的任务数量。"
3.  **小组件**: "请使用 Jetpack Glance 库创建一个 Android 桌面小组件，显示当前正在进行的任务。"
